<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‡½æ•°è°ƒç”¨ä¸­çš„ç±»å‹æµå‘è¯¦è§£</title>
  <style>
    .container {
      margin: 20px;
      padding: 20px;
      font-family: 'Courier New', monospace;
      max-width: 1400px;
    }

    .explanation {
      margin: 20px 0;
      padding: 20px;
      background-color: #f8f9fa;
      border-left: 4px solid #2ecc71;
      border-radius: 5px;
    }

    .highlight {
      background-color: #ffeb3b;
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: bold;
    }

    .output {
      background-color: #e8f5e9;
      padding: 15px;
      border-left: 4px solid #4caf50;
      margin: 10px 0;
      border-radius: 5px;
    }

    .error {
      background-color: #ffebee;
      padding: 15px;
      border-left: 4px solid #f44336;
      margin: 10px 0;
      border-radius: 5px;
    }

    .example-section {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .example-card {
      flex: 1;
      min-width: 300px;
      padding: 20px;
      border-radius: 10px;
      border: 2px solid;
    }

    .card-correct {
      background-color: #e8f5e9;
      border-color: #4caf50;
    }

    .card-incorrect {
      background-color: #ffebee;
      border-color: #f44336;
    }

    .rule-box {
      background-color: #e3f2fd;
      border: 2px solid #2196f3;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    pre {
      background-color: #2d3748;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 10px 0;
    }

    .keyword {
      color: #ff7979;
      font-weight: bold;
    }

    .type {
      color: #74b9ff;
      font-weight: bold;
    }

    .string {
      color: #6c5ce7;
    }

    .comment {
      color: #636e72;
      font-style: italic;
    }

    .arrow {
      font-size: 18px;
      color: #e74c3c;
      font-weight: bold;
      margin: 0 10px;
    }

    .success {
      color: #27ae60;
      font-weight: bold;
    }

    .fail {
      color: #e74c3c;
      font-weight: bold;
    }

    .flow-diagram {
      background-color: #f8f9fa;
      border: 2px dashed #6c757d;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }

    .type-hierarchy {
      background-color: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    h1,
    h2,
    h3 {
      color: #2c3e50;
    }
  </style>
</head>

<body>
  <div class="explanation">
    <h1>ğŸ”„ å‡½æ•°è°ƒç”¨ä¸­çš„ç±»å‹æµå‘è¯¦è§£</h1>
    <h2>å®å‚ç±»å‹ â†’ å½¢å‚ç±»å‹ï¼šä¸ºä»€ä¹ˆå®å‚è¦"æ›´å°"ï¼Ÿ</h2>
  </div>

  <div class="container">
    <!-- æ ¸å¿ƒæ¦‚å¿µ -->
    <div class="rule-box">
      <h3>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h3>
      <p><strong>å‡½æ•°è°ƒç”¨æ—¶çš„ç±»å‹èµ‹å€¼ï¼š</strong></p>
      <div class="flow-diagram">
        <h4>fn(arg) çš„ç±»å‹æµå‘</h4>
        <p style="font-size: 18px;">
          <span style="background-color: #e3f2fd; padding: 10px; border-radius: 5px;">å®å‚ç±»å‹</span>
          <span class="arrow">â†’</span>
          <span style="background-color: #f3e5f5; padding: 10px; border-radius: 5px;">å½¢å‚ç±»å‹</span>
        </p>
        <p><em>å®å‚çš„ç±»å‹"èµ‹å€¼"ç»™å½¢å‚çš„ç±»å‹</em></p>
      </div>
    </div>

    <!-- ç±»å‹å¤§å°å…³ç³» -->
    <div class="type-hierarchy">
      <h3>ğŸ“ ç±»å‹çš„"å¤§å°"å…³ç³»</h3>
      <p><strong>æ›´å°ï¼ˆæ›´å…·ä½“ï¼‰</strong> â† â†’ <strong>æ›´å¤§ï¼ˆæ›´å®½æ³›ï¼‰</strong></p>
      <ul>
        <li><span class="highlight">"hello"</span> &lt; <span class="highlight">string</span> &lt; <span
            class="highlight">string | number</span> &lt; <span class="highlight">any</span></li>
        <li><span class="highlight">Dog</span> &lt; <span class="highlight">Animal</span> &lt; <span
            class="highlight">any</span></li>
        <li><span class="highlight">never</span> &lt; å…·ä½“ç±»å‹ &lt; è”åˆç±»å‹ &lt; <span class="highlight">unknown</span></li>
      </ul>
      <p><strong>è§„åˆ™ï¼š</strong>å®å‚ç±»å‹å¿…é¡» â‰¤ å½¢å‚ç±»å‹ï¼ˆå­ç±»å‹å…³ç³»ï¼‰</p>
    </div>

    <!-- åŸºç¡€ç¤ºä¾‹ -->
    <h3>ğŸ”¤ åŸºç¡€ç±»å‹ç¤ºä¾‹</h3>
    <div class="example-section">
      <div class="example-card card-correct">
        <h4>âœ… æ­£ç¡®çš„å‡½æ•°è°ƒç”¨</h4>
        <pre><code><span class="comment">// å‡½æ•°å®šä¹‰ï¼šæœŸæœ› string ç±»å‹</span>
<span class="keyword">function</span> greet(name<span class="type">: string</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Hello, ${name}`</span>);
}

<span class="comment">// å­—é¢é‡ç±»å‹ â†’ string ç±»å‹</span>
greet(<span class="string">"Alice"</span>); <span class="success">// âœ… "Alice" â†’ string</span>

<span class="comment">// string ç±»å‹ â†’ string ç±»å‹</span>
<span class="keyword">let</span> userName<span class="type">: string</span> = <span class="string">"Bob"</span>;
greet(userName); <span class="success">// âœ… string â†’ string</span>

<span class="comment">// æ›´å…·ä½“çš„ç±»å‹ â†’ æ›´å®½æ³›çš„ç±»å‹</span>
<span class="keyword">type</span> UserName = <span class="string">"admin"</span> | <span class="string">"user"</span>;
<span class="keyword">let</span> role<span class="type">: UserName</span> = <span class="string">"admin"</span>;
greet(role); <span class="success">// âœ… UserName â†’ string</span></code></pre>
      </div>

      <div class="example-card card-incorrect">
        <h4>âŒ é”™è¯¯çš„å‡½æ•°è°ƒç”¨</h4>
        <pre><code><span class="comment">// åŒæ ·çš„å‡½æ•°å®šä¹‰</span>
<span class="keyword">function</span> greet(name<span class="type">: string</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Hello, ${name}`</span>);
}

<span class="comment">// number ç±»å‹ â†’ string ç±»å‹</span>
greet(123); <span class="fail">// âŒ number â†’ string</span>

<span class="comment">// æ›´å®½æ³›çš„ç±»å‹ â†’ æ›´å…·ä½“çš„ç±»å‹</span>
<span class="keyword">let</span> value<span class="type">: string | number</span> = <span class="string">"test"</span>;
greet(value); <span class="fail">// âŒ string|number â†’ string</span>

<span class="comment">// any ç±»å‹è™½ç„¶å¯ä»¥ï¼Œä½†ä¸æ¨è</span>
<span class="keyword">let</span> anyValue<span class="type">: any</span> = <span class="string">"hello"</span>;
greet(anyValue); <span class="success">// âš ï¸ any â†’ string (ç±»å‹æ£€æŸ¥è¢«ç»•è¿‡)</span></code></pre>
      </div>
    </div>

    <!-- å¯¹è±¡ç±»å‹ç¤ºä¾‹ -->
    <h3>ğŸ—ï¸ å¯¹è±¡ç±»å‹ç¤ºä¾‹</h3>
    <div class="example-section">
      <div class="example-card card-correct">
        <h4>âœ… å¯¹è±¡ç±»å‹å…¼å®¹</h4>
        <pre><code><span class="keyword">interface</span> Animal {
  name<span class="type">: string</span>;
}

<span class="keyword">interface</span> Dog <span class="keyword">extends</span> Animal {
  breed<span class="type">: string</span>;
}

<span class="comment">// å‡½æ•°æœŸæœ› Animal ç±»å‹</span>
<span class="keyword">function</span> feedAnimal(animal<span class="type">: Animal</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Feeding ${animal.name}`</span>);
}

<span class="comment">// Dog æ˜¯ Animal çš„å­ç±»å‹ï¼ˆæ›´å…·ä½“ï¼‰</span>
<span class="keyword">let</span> myDog<span class="type">: Dog</span> = { 
  name: <span class="string">"Buddy"</span>, 
  breed: <span class="string">"Golden Retriever"</span> 
};

feedAnimal(myDog); <span class="success">// âœ… Dog â†’ Animal</span>

<span class="comment">// ç›´æ¥ä¼ å…¥å…·æœ‰æ›´å¤šå±æ€§çš„å¯¹è±¡</span>
feedAnimal({
  name: <span class="string">"Max"</span>,
  breed: <span class="string">"Labrador"</span>,
  age: 3 <span class="comment">// é¢å¤–å±æ€§ä¹ŸOK</span>
}); <span class="success">// âœ… æ›´å…·ä½“çš„å¯¹è±¡ â†’ Animal</span></code></pre>
      </div>

      <div class="example-card card-incorrect">
        <h4>âŒ å¯¹è±¡ç±»å‹ä¸å…¼å®¹</h4>
        <pre><code><span class="keyword">interface</span> Animal {
  name<span class="type">: string</span>;
}

<span class="keyword">interface</span> Dog <span class="keyword">extends</span> Animal {
  breed<span class="type">: string</span>;
}

<span class="comment">// å‡½æ•°æœŸæœ› Dog ç±»å‹ï¼ˆæ›´å…·ä½“ï¼‰</span>
<span class="keyword">function</span> groomDog(dog<span class="type">: Dog</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Grooming ${dog.name} (${dog.breed})`</span>);
}

<span class="comment">// Animal ç±»å‹ç¼ºå°‘ breed å±æ€§</span>
<span class="keyword">let</span> someAnimal<span class="type">: Animal</span> = { name: <span class="string">"Unknown"</span> };
groomDog(someAnimal); <span class="fail">// âŒ Animal â†’ Dog (ç¼ºå°‘å¿…éœ€å±æ€§)</span>

<span class="comment">// ä¸å®Œæ•´çš„å¯¹è±¡</span>
groomDog({ name: <span class="string">"Rex"</span> }); <span class="fail">// âŒ ç¼ºå°‘ breed å±æ€§</span></code></pre>
      </div>
    </div>

    <!-- è”åˆç±»å‹ç¤ºä¾‹ -->
    <h3>ğŸ”€ è”åˆç±»å‹ç¤ºä¾‹</h3>
    <div class="example-section">
      <div class="example-card card-correct">
        <h4>âœ… è”åˆç±»å‹å…¼å®¹</h4>
        <pre><code><span class="comment">// å‡½æ•°æ¥å—è”åˆç±»å‹</span>
<span class="keyword">function</span> processValue(value<span class="type">: string | number</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Processing: ${value}`</span>);
}

<span class="comment">// å…·ä½“ç±»å‹ â†’ è”åˆç±»å‹</span>
processValue(<span class="string">"hello"</span>); <span class="success">// âœ… string â†’ string|number</span>
processValue(42); <span class="success">// âœ… number â†’ string|number</span>

<span class="comment">// å­—é¢é‡ç±»å‹ â†’ è”åˆç±»å‹</span>
<span class="keyword">let</span> status<span class="type">: "success"</span> = <span class="string">"success"</span>;
processValue(status); <span class="success">// âœ… "success" â†’ string|number</span></code></pre>
      </div>

      <div class="example-card card-incorrect">
        <h4>âŒ è”åˆç±»å‹ä¸å…¼å®¹</h4>
        <pre><code><span class="comment">// å‡½æ•°åªæ¥å— string</span>
<span class="keyword">function</span> processString(value<span class="type">: string</span>)<span class="type">: void</span> {
  console.log(value.toUpperCase());
}

<span class="comment">// è”åˆç±»å‹ â†’ å…·ä½“ç±»å‹ï¼ˆä¸å®‰å…¨ï¼‰</span>
<span class="keyword">let</span> mixedValue<span class="type">: string | number</span> = 42;
processString(mixedValue); <span class="fail">// âŒ string|number â†’ string</span>

<span class="comment">// è™½ç„¶è¿è¡Œæ—¶å¯èƒ½æ˜¯ stringï¼Œä½†ç¼–è¯‘æ—¶ä¸ç¡®å®š</span>
<span class="keyword">let</span> uncertain<span class="type">: string | number</span> = <span class="string">"hello"</span>;
processString(uncertain); <span class="fail">// âŒ ä»ç„¶ä¸è¢«å…è®¸</span></code></pre>
      </div>
    </div>

    <!-- å®é™…åº”ç”¨åœºæ™¯ -->
    <h3>ğŸ¯ å®é™…åº”ç”¨åœºæ™¯</h3>
    <div class="output">
      <h4>ä¸ºä»€ä¹ˆå®å‚è¦"æ›´å°"ï¼Ÿ</h4>
      <p><strong>ç±»å‹å®‰å…¨çš„ä¿è¯ï¼š</strong></p>
      <ol>
        <li><strong>å‡½æ•°çš„æœŸæœ›</strong>ï¼šå‡½æ•°å£°æ˜äº†å®ƒèƒ½å¤„ç†ä»€ä¹ˆç±»å‹çš„å‚æ•°</li>
        <li><strong>è°ƒç”¨è€…çš„æ‰¿è¯º</strong>ï¼šä¼ å…¥çš„å‚æ•°ä¸èƒ½è¶…å‡ºå‡½æ•°çš„å¤„ç†èƒ½åŠ›</li>
        <li><strong>è¿è¡Œæ—¶å®‰å…¨</strong>ï¼šç¡®ä¿å‡½æ•°å†…éƒ¨æ“ä½œä¸ä¼šå› ç±»å‹ä¸åŒ¹é…è€Œå‡ºé”™</li>
      </ol>
    </div>

    <div class="example-section">
      <div class="example-card card-correct">
        <h4>âœ… å®‰å…¨çš„ç±»å‹æµå‘</h4>
        <pre><code><span class="comment">// API å“åº”ç±»å‹</span>
<span class="keyword">interface</span> ApiResponse {
  status<span class="type">: number</span>;
  data<span class="type">: any</span>;
}

<span class="keyword">interface</span> UserApiResponse <span class="keyword">extends</span> ApiResponse {
  data<span class="type">: User</span>; <span class="comment">// æ›´å…·ä½“çš„ data ç±»å‹</span>
}

<span class="comment">// å¤„ç†é€šç”¨å“åº”çš„å‡½æ•°</span>
<span class="keyword">function</span> logResponse(response<span class="type">: ApiResponse</span>)<span class="type">: void</span> {
  console.log(<span class="string">`Status: ${response.status}`</span>);
}

<span class="comment">// æ›´å…·ä½“çš„å“åº”å¯ä»¥ä¼ ç»™é€šç”¨å¤„ç†å‡½æ•°</span>
<span class="keyword">let</span> userResponse<span class="type">: UserApiResponse</span> = {
  status: 200,
  data: { id: 1, name: <span class="string">"Alice"</span> }
};

logResponse(userResponse); <span class="success">// âœ… UserApiResponse â†’ ApiResponse</span></code></pre>
      </div>
    </div>

    <!-- è®°å¿†æŠ€å·§ -->
    <div class="rule-box">
      <h3>ğŸ’¡ è®°å¿†æŠ€å·§</h3>
      <div class="flow-diagram">
        <h4>å‡½æ•°è°ƒç”¨çš„é€»è¾‘</h4>
        <p><strong>æƒ³è±¡å‡½æ•°æ˜¯ä¸€ä¸ª"å®¹å™¨"ï¼š</strong></p>
        <ul style="text-align: left;">
          <li>ğŸ¯ å‡½æ•°å£°æ˜äº†å®ƒèƒ½"å®¹çº³"ä»€ä¹ˆç±»å‹</li>
          <li>ğŸ“¦ å®å‚æ˜¯è¦"æ”¾å…¥"è¿™ä¸ªå®¹å™¨çš„ä¸œè¥¿</li>
          <li>âœ… å°çš„ä¸œè¥¿å¯ä»¥æ”¾è¿›å¤§å®¹å™¨</li>
          <li>âŒ å¤§çš„ä¸œè¥¿æ”¾ä¸è¿›å°å®¹å™¨</li>
        </ul>
      </div>

      <p><strong>ç®€å•å…¬å¼ï¼š</strong></p>
      <p style="text-align: center; font-size: 18px; background-color: #e8f5e9; padding: 15px; border-radius: 8px;">
        <strong>å®å‚ç±»å‹ âŠ† å½¢å‚ç±»å‹</strong><br>
        <em>ï¼ˆå®å‚æ˜¯å½¢å‚çš„å­é›†/å­ç±»å‹ï¼‰</em>
      </p>
    </div>

    <!-- æ€»ç»“ -->
    <div class="explanation">
      <h3>ğŸ“‹ æ€»ç»“</h3>
      <p><strong>å‡½æ•°è°ƒç”¨ä¸­çš„ç±»å‹èµ‹å€¼è§„åˆ™ï¼š</strong></p>
      <ul>
        <li>ğŸ”„ <strong>æµå‘</strong>ï¼šå®å‚ç±»å‹ â†’ å½¢å‚ç±»å‹</li>
        <li>ğŸ“ <strong>å¤§å°å…³ç³»</strong>ï¼šå®å‚ç±»å‹ â‰¤ å½¢å‚ç±»å‹</li>
        <li>ğŸ›¡ï¸ <strong>å®‰å…¨ä¿è¯</strong>ï¼šå­ç±»å‹ â†’ çˆ¶ç±»å‹</li>
        <li>ğŸ¯ <strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼šå°ç›’å­çš„ä¸œè¥¿å¯ä»¥æ”¾è¿›å¤§ç›’å­</li>
      </ul>

      <div class="output">
        <h4>ğŸ‰ ä½ çš„ç†è§£å®Œå…¨æ­£ç¡®ï¼</h4>
        <p>åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œç¡®å®æ˜¯<strong>å®å‚çš„ç±»å‹èµ‹å€¼ç»™å½¢å‚çš„ç±»å‹</strong>ï¼Œè€Œä¸”<strong>å®å‚çš„ç±»å‹è¦æ¯”å½¢å‚çš„ç±»å‹"å°"</strong>ï¼ˆæ›´å…·ä½“ã€æ›´çª„ï¼‰ã€‚è¿™ç¡®ä¿äº†ç±»å‹å®‰å…¨ï¼Œè®©å‡½æ•°èƒ½å¤Ÿå®‰å…¨åœ°å¤„ç†ä¼ å…¥çš„å‚æ•°ã€‚
        </p>
      </div>
    </div>
  </div>
</body>

</html>