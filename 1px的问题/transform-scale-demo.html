<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>transform: scale() é—®é¢˜æ¼”ç¤º</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 30px;
    }

    .demo-section {
      background: white;
      margin: 20px 0;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .demo-section h2 {
      color: #e74c3c;
      margin-bottom: 15px;
      border-bottom: 2px solid #e74c3c;
      padding-bottom: 10px;
    }

    .comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }

    .demo-item {
      padding: 15px;
      background: #f8f9fa;
      border-radius: 4px;
      position: relative;
    }

    .demo-item h3 {
      margin: 0 0 10px 0;
      color: #495057;
    }

    .demo-item p {
      margin: 5px 0;
      color: #6c757d;
      font-size: 14px;
    }

    .code {
      background: #2c3e50;
      color: #ecf0f1;
      padding: 10px;
      border-radius: 4px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 12px;
      margin: 10px 0;
      overflow-x: auto;
    }

    .warning {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }

    .success {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
      padding: 10px;
      border-radius: 4px;
      margin: 10px 0;
    }

    /* é—®é¢˜æ¼”ç¤ºï¼šæ²¡æœ‰è¡¥å¿å°ºå¯¸çš„transform */
    .problem-demo {
      position: relative;
      padding: 20px;
      margin: 10px 0;
      background: white;
      border: 2px solid #dc3545;
    }

    .problem-demo::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border: 1px solid #28a745;
      transform: scale(0.5);
      transform-origin: 0 0;
      pointer-events: none;
    }

    /* è§£å†³æ–¹æ¡ˆï¼šè¡¥å¿å°ºå¯¸çš„transform */
    .solution-demo {
      position: relative;
      padding: 20px;
      margin: 10px 0;
      background: white;
      border: 2px solid #dc3545;
    }

    .solution-demo::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border: 1px solid #28a745;
      transform: scale(0.5);
      transform-origin: 0 0;
      pointer-events: none;
      /* å…³é”®ä¿®å¤ï¼šè¡¥å¿ç¼©æ”¾åçš„å°ºå¯¸ */
      width: 200%;
      height: 200%;
    }

    /* å¯¹æ¯”æ¼”ç¤ºï¼šæ™®é€šè¾¹æ¡† */
    .normal-demo {
      padding: 20px;
      margin: 10px 0;
      background: white;
      border: 1px solid #6c757d;
    }

    /* å¯¹æ¯”æ¼”ç¤ºï¼šbox-shadowæ–¹æ¡ˆ */
    .boxshadow-demo {
      padding: 20px;
      margin: 10px 0;
      background: white;
      box-shadow: 0 0 0 0.5px #6c757d;
    }

    .visual-guide {
      position: relative;
      margin: 20px 0;
      padding: 20px;
      background: #e9ecef;
      border-radius: 4px;
    }

    .visual-guide::before {
      content: 'åŸå§‹å°ºå¯¸';
      position: absolute;
      top: -10px;
      left: 0;
      background: #007bff;
      color: white;
      padding: 2px 8px;
      border-radius: 2px;
      font-size: 12px;
    }

    .visual-guide::after {
      content: 'ç¼©æ”¾åå°ºå¯¸ (50%)';
      position: absolute;
      top: -10px;
      right: 0;
      background: #28a745;
      color: white;
      padding: 2px 8px;
      border-radius: 2px;
      font-size: 12px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>transform: scale() é—®é¢˜æ¼”ç¤ºä¸è§£å†³æ–¹æ¡ˆ</h1>

    <div class="demo-section">
      <h2>ğŸ” é—®é¢˜åˆ†æ</h2>
      <p><strong>transform: scale(0.5)</strong> ä¼šå¯¹å…ƒç´ çš„æ‰€æœ‰å±æ€§è¿›è¡Œç¼©æ”¾ï¼š</p>
      <ul>
        <li>âœ… <strong>è¾¹æ¡†å®½åº¦</strong>ï¼š1px â†’ 0.5pxï¼ˆè¿™æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼‰</li>
        <li>âŒ <strong>å®¹å™¨å°ºå¯¸</strong>ï¼š100% â†’ 50%ï¼ˆè¿™ä¼šå¯¼è‡´è¾¹æ¡†æ— æ³•å®Œå…¨åŒ…è£¹å®¹å™¨ï¼‰</li>
        <li>âŒ <strong>å†…éƒ¨å†…å®¹</strong>ï¼šæ–‡å­—ã€å­å…ƒç´ ç­‰éƒ½ä¼šå˜å°</li>
      </ul>

      <div class="visual-guide">
        <div style="width: 100%; height: 60px; background: #007bff; opacity: 0.3; position: relative;">
          <div
            style="width: 50%; height: 30px; background: #28a745; opacity: 0.7; position: absolute; top: 15px; left: 0;">
          </div>
        </div>
      </div>
    </div>

    <div class="demo-section">
      <h2>âŒ é—®é¢˜æ¼”ç¤º</h2>
      <div class="comparison">
        <div class="demo-item">
          <h3>æ™®é€š1pxè¾¹æ¡†</h3>
          <div class="normal-demo">
            è¿™æ˜¯æ™®é€šçš„1pxè¾¹æ¡†ï¼Œåœ¨é«˜DPIå±å¹•ä¸Šæ˜¾ç¤ºè¿‡ç²—
          </div>
          <div class="code">border: 1px solid #6c757d;</div>
        </div>
        <div class="demo-item">
          <h3>âŒ é”™è¯¯çš„transformæ–¹æ¡ˆ</h3>
          <div class="problem-demo">
            è¾¹æ¡†æ— æ³•å®Œå…¨åŒ…è£¹å®¹å™¨ï¼<br>
            å†…å®¹è¢«ç¼©æ”¾äº†50%
          </div>
          <div class="code">
            ::after {
            border: 1px solid #28a745;
            transform: scale(0.5);
            /* ç¼ºå°‘ width: 200%; height: 200%; */
            }
          </div>
        </div>
      </div>
      <div class="warning">
        <strong>é—®é¢˜ï¼š</strong>transform: scale(0.5) ä¼šå°†æ•´ä¸ªä¼ªå…ƒç´ ç¼©å°åˆ°åŸæ¥çš„50%ï¼Œ
        å¯¼è‡´è¾¹æ¡†æ— æ³•å®Œå…¨åŒ…è£¹çˆ¶å®¹å™¨ã€‚
      </div>
    </div>

    <div class="demo-section">
      <h2>âœ… è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h2>
      <div class="comparison">
        <div class="demo-item">
          <h3>âœ… ä¿®å¤åçš„transformæ–¹æ¡ˆ</h3>
          <div class="solution-demo">
            è¾¹æ¡†å®Œå…¨åŒ…è£¹å®¹å™¨ï¼<br>
            å†…å®¹ä¿æŒåŸå§‹å¤§å°
          </div>
          <div class="code">
            ::after {
            border: 1px solid #28a745;
            transform: scale(0.5);
            /* å…³é”®ä¿®å¤ */
            width: 200%;
            height: 200%;
            }
          </div>
        </div>
        <div class="demo-item">
          <h3>âœ… box-shadowæ–¹æ¡ˆ</h3>
          <div class="boxshadow-demo">
            ç®€å•æ˜“ç”¨ï¼Œæ— éœ€é¢å¤–å…ƒç´ <br>
            æ€§èƒ½è¾ƒå¥½
          </div>
          <div class="code">box-shadow: 0 0 0 0.5px #6c757d;</div>
        </div>
      </div>
      <div class="success">
        <strong>è§£å†³æ–¹æ¡ˆï¼š</strong>é€šè¿‡è®¾ç½® <code>width: 200%; height: 200%;</code> æ¥è¡¥å¿ç¼©æ”¾æ•ˆæœï¼Œ
        è®©è¾¹æ¡†èƒ½å¤Ÿå®Œå…¨åŒ…è£¹å®¹å™¨ã€‚
      </div>
    </div>

    <div class="demo-section">
      <h2>ğŸ”§ æŠ€æœ¯åŸç†</h2>
      <div class="code">
        /* åŸå§‹ä¼ªå…ƒç´  */
        ::after {
        width: 100%;
        height: 100%;
        border: 1px solid #ddd;
        }

        /* åº”ç”¨ scale(0.5) å */
        ::after {
        width: 100% * 0.5 = 50%;
        height: 100% * 0.5 = 50%;
        border: 1px * 0.5 = 0.5px solid #ddd;
        }

        /* ä¿®å¤ï¼šè¡¥å¿ç¼©æ”¾æ•ˆæœ */
        ::after {
        width: 200%; /* 200% * 0.5 = 100% */
        height: 200%; /* 200% * 0.5 = 100% */
        border: 1px solid #ddd;
        transform: scale(0.5);
        }
      </div>
    </div>

    <div class="demo-section">
      <h2>ğŸ“Š æ–¹æ¡ˆæ¨è</h2>
      <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <thead>
          <tr style="background: #f8f9fa;">
            <th style="border: 1px solid #ddd; padding: 10px;">æ–¹æ¡ˆ</th>
            <th style="border: 1px solid #ddd; padding: 10px;">ä¼˜ç‚¹</th>
            <th style="border: 1px solid #ddd; padding: 10px;">ç¼ºç‚¹</th>
            <th style="border: 1px solid #ddd; padding: 10px;">æ¨èåœºæ™¯</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="border: 1px solid #ddd; padding: 10px;"><strong>transform + è¡¥å¿</strong></td>
            <td style="border: 1px solid #ddd; padding: 10px;">çœŸæ­£çš„0.5pxæ•ˆæœï¼Œå…¼å®¹æ€§å¥½</td>
            <td style="border: 1px solid #ddd; padding: 10px;">éœ€è¦é¢å¤–å…ƒç´ ï¼Œä»£ç å¤æ‚</td>
            <td style="border: 1px solid #ddd; padding: 10px;">å¤æ‚åœºæ™¯ï¼Œè¦æ±‚ç²¾ç¡®æ•ˆæœ</td>
          </tr>
          <tr>
            <td style="border: 1px solid #ddd; padding: 10px;"><strong>box-shadow</strong></td>
            <td style="border: 1px solid #ddd; padding: 10px;">ç®€å•æ˜“ç”¨ï¼Œæ— éœ€é¢å¤–å…ƒç´ </td>
            <td style="border: 1px solid #ddd; padding: 10px;">æ€§èƒ½ç•¥å·®ï¼ŒæŸäº›æµè§ˆå™¨æ”¯æŒé—®é¢˜</td>
            <td style="border: 1px solid #ddd; padding: 10px;">ç®€å•åœºæ™¯ï¼Œå¿«é€Ÿå¼€å‘</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="demo-section">
      <h2>ğŸ¯ æœ€ä½³å®è·µ</h2>
      <div class="code">
        /* æ¨èï¼šbox-shadowæ–¹æ¡ˆï¼ˆç®€å•åœºæ™¯ï¼‰ */
        .border-1px {
        box-shadow: 0 0 0 0.5px #ddd;
        }

        /* æ¨èï¼štransformæ–¹æ¡ˆï¼ˆå¤æ‚åœºæ™¯ï¼‰ */
        .border-1px {
        position: relative;
        }
        .border-1px::after {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        border: 1px solid #ddd;
        transform: scale(0.5);
        transform-origin: 0 0;
        pointer-events: none;
        /* å…³é”®ï¼šè¡¥å¿ç¼©æ”¾æ•ˆæœ */
        width: 200%;
        height: 200%;
        }
      </div>
    </div>
  </div>

  <script>
    // æ˜¾ç¤ºè®¾å¤‡ä¿¡æ¯
    const deviceInfo = document.createElement('div');
    deviceInfo.style.cssText = `
            position: fixed;
            top: 10px;
            right: 10px;
            background: #007bff;
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
        `;
    deviceInfo.innerHTML = `
            <strong>è®¾å¤‡ä¿¡æ¯</strong><br>
            DPR: ${window.devicePixelRatio || 1}<br>
            å®½åº¦: ${window.innerWidth}px
        `;
    document.body.appendChild(deviceInfo);
  </script>
</body>

</html>